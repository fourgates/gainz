<div class="exercise-container">
    <form *ngIf="data" [formGroup]="form">
        <!-- <label>
            Seqno:
        </label>
        <input matInput type="number"[formControlName]="'seqno'" style="width:50%"> -->
        
        <table mat-table [dataSource]="data" >
            <ng-container matColumnDef="setNumber">
                <th mat-header-cell *matHeaderCellDef> Set # </th>
                <td mat-cell *matCellDef="let element"> {{element.setNumber}} </td>
            </ng-container>
        
            <ng-container matColumnDef="prevWeight">
                <th mat-header-cell *matHeaderCellDef> Prev Weight </th>
                <td mat-cell *matCellDef="let element"> {{element.prevWeight}} </td>
            </ng-container>
        
            <ng-container matColumnDef="currentWeight" formArrayName="weights">
                <th mat-header-cell *matHeaderCellDef> Current Weight </th>
                <td mat-cell *matCellDef="let element; let i = index">
                    <input matInput [formControlName]="i" style="width:50%">
                </td>
            </ng-container>
        
            <ng-container matColumnDef="expectedRep">
                <th mat-header-cell *matHeaderCellDef> Expected Rep </th>
                <td mat-cell *matCellDef="let element"> {{element.expectedRep}} </td>
            </ng-container>
        
            <ng-container matColumnDef="actualRep" formArrayName="sets">
                <th mat-header-cell *matHeaderCellDef> Actual Rep </th>
                <td mat-cell *matCellDef="let element; let i = index"> 
                    <input matInput [formControlName]="i" style="width:50%">
                </td>
            </ng-container>
    
            <ng-container matColumnDef="adjustedWeight">
                <th mat-header-cell *matHeaderCellDef> Adj. Weight </th>
                <td mat-cell *matCellDef="let element"> {{element.adjustedWeight}}</td>
            </ng-container>   
    
            <ng-container matColumnDef="percentChange">
                <th mat-header-cell *matHeaderCellDef> % Change </th>
                <td mat-cell *matCellDef="let element"> {{element.percentChange}}%</td>
            </ng-container>
    
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </form>
    <div class="button-bar">
        <span class="edit-bar">
            <button *ngIf="form.disabled" (click)="form.enable()" mat-raised-button>Edit</button>
            <button *ngIf="form.enabled" (click)="cancel()" mat-raised-button style="margin-right: 10px;">Cancel</button>
            <button *ngIf="form.enabled" (click)="save()" mat-raised-button>Save</button>
        </span>
        <span class="delete-bar">
            <button *ngIf="form.enabled" (click)="delete()" mat-raised-button color="warn">Delete Set</button>
        </span>
    </div>
</div>